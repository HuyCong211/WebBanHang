@model IEnumerable<DoAnChuyenNganh.Models.EF.TinTuc>
@{
    ViewBag.Title = "Tin tức";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="news-section" style="margin-top:160px;">
    @* tránh bị che header *@
    <div class="container pb-5">
        <h2 class="text-center fw-bold text-primary mb-4">Danh sách tin tức</h2>

        <div class="table-responsive shadow-sm rounded bg-white p-3">
            <table class="table align-middle table-hover mb-0">
                <thead class="table-light border-bottom">
                    <tr class="text-center fw-semibold">
                        <th style="width:60px;">STT</th>
                        <th style="width:120px;">Ảnh</th>
                        <th>Tiêu đề</th>
                        <th style="width:180px;">Ngày đăng</th>
                        <th>Tóm tắt</th>
                        <th style="width:120px;">Hành động</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        int stt = 1;
                        foreach (var tin in Model)
                        {
                            var img = tin.HinhAnhTinTucs.FirstOrDefault()?.Url ?? Url.Content("~/Content/assets/images/no-image.jpg");
                            <tr class="align-middle">
                                <td class="text-center text-muted">@stt</td>
                                <td class="text-center">
                                    <img src="@Url.Content(img)" alt="@tin.TieuDe"
                                         class="rounded shadow-sm" style="width:100px; height:70px; object-fit:cover;">
                                </td>
                                <td class="fw-semibold">@tin.TieuDe</td>
                                <td class="text-center">
                                    @(tin.NgayDang.HasValue
                                        ? tin.NgayDang.Value.ToString("dd/MM/yyyy HH:mm")
                                        : "Chưa cập nhật")
                                </td>
                                <td class="text-muted small text-justify">@Html.Raw(tin.TomTat)</td>
                                <td class="text-center">
                                    <a href="@Url.Action("Detail", "TinTuc", new { slug = tin.Slug })"
                                       class="btn btn-sm btn-outline-primary px-3 rounded-pill transition-all">
                                        Xem chi tiết
                                    </a>
                                </td>
                            </tr>
                            stt++;
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</section>

<style>
    .news-section, .table, .btn, .fw-semibold, .text-muted, h2, td, th {
        font-family: "Times New Roman", Times, serif !important;
    }

    .news-section {
        background-color: #f9fafb;
        min-height: 100vh;
    }

    .table {
        border-radius: 12px;
        overflow: hidden;
    }

        .table thead {
            background-color: #f1f3f5;
        }

    .table-hover tbody tr:hover {
        background-color: #fff5f5;
        transition: 0.3s ease;
    }

    .btn-outline-primary {
        border-color: #ff4c4c;
        color: #ff4c4c;
    }

        .btn-outline-primary:hover {
            background-color: #ff4c4c;
            color: #fff;
            border-color: #ff4c4c;
        }

    .transition-all {
        transition: all 0.3s ease;
    }

    .text-justify {
        text-align: justify;
    }

    h2 {
        letter-spacing: 0.5px;
    }
</style>
